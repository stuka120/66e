<div class="card mb-3 rounded-0 shadow">
  <ngb-carousel
    [showNavigationArrows]="
      post.full_picture &&
      (post.attachments?.data)[0]?.subattachments?.data.length > 1
    "
    [showNavigationIndicators]="!!post.full_picture"
    [interval]="0"
  >
    <ng-template
      ngbSlide
      *ngIf="
        !(post.attachments?.data)[0]?.subattachments?.data ||
        (post.attachments?.data)[0]?.subattachments?.data.length == 1
      "
    >
      <div class="picsum-img-wrapper">
        <img
          class="d-block w-100"
          [src]="post.full_picture"
          style="max-height: 30rem; object-fit: contain;"
          alt="Random first slide"
        />
      </div>
    </ng-template>
    <ng-template
      ngbSlide
      *ngFor="let image of (post.attachments?.data)[0].subattachments?.data"
    >
      <div class="picsum-img-wrapper">
        <img
          class="d-block w-100"
          [src]="image.media.image.src"
          style="max-height: 30rem; object-fit: contain;"
          alt="Random first slide"
        />
      </div>
    </ng-template>
  </ngb-carousel>
  <div class="card-body">
    <h5 *ngIf="(post.attachments?.data)[0]" class="card-title">
      {{ post.attachments.data[0].title }}
    </h5>
    <p class="card-text" style="white-space: pre-wrap;">
      {{ post.message }}
    </p>
  </div>
  <div
    class="card-footer"
    data-toggle="collapse"
    [attr.href]="'#commandsOfPost' + cardId"
  >
    <div class="d-flex">
      <div class="card-link">
        <fa-icon [icon]="faCommend" class="mr-1"></fa-icon>
        {{ post.comments?.data ? post.comments.data.length : 0 }} Kommentar{{
          post.comments?.data && post.comments.data.length == 1 ? "" : "e"
        }}
      </div>
      <fa-icon [icon]="faShare" class="mx-2"></fa-icon>
      <div class="card-link mr-auto">
        {{ post.shares ? post.shares.count : 0 }} Share{{
          post.shares && post.shares.count == 1 ? "" : "s"
        }}
      </div>
      <div *ngIf="post.comments?.data" class="card-link">
        <fa-icon [icon]="faChevronDown"></fa-icon>
      </div>
    </div>
  </div>
  <div
    *ngIf="post.comments?.data"
    class="collapse multi-collapse"
    [attr.id]="'commandsOfPost' + cardId"
  >
    <div class="card-footer " *ngFor="let comment of post.comments.data">
      {{ comment.message }}
    </div>
  </div>
</div>
